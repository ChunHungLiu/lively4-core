<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
<title>Lively 4 Our First Page</title>
<style>
  body {
    min-height: 1000px;
  }

  h2 {
    margin: 0px;
  }

  #playground {
    width: 1000px;
    height: 600px;
    border-style: dashed;
    border-color: #073642;
    border-width: 2px;
    border-radius: 7px;
    padding: 7px;
  }

  .large-rect {
    width: 300px;
    height: 200px;
    background-color: #2aa198;
  }

  .ball {
    border-radius: 50%;
    background-image: url(http://bupp.at/sites/default/files/styles/breite_350/public/red%20cov.png?itok=VYf4pmEQ);
    background-size: 100%;
    width: 100px;
    height: 100px;
    background-color: #073642;
  }

  #workflow-image {
    width: 100%;
    height: auto;
  }

</style>

<script src="https://code.jquery.com/jquery-2.1.4.js" type="text/javascript" charset="utf-8"></script>

<link rel="import" href="../src/client/babel-system.html">
<link rel="import" href="../templates/lively-halos.html">

</head>

<body><lively-window style="z-index: 100; left: 1165px; top: 77.4375px;"><lively-editor></lively-editor></lively-window>
<lively-window title="Workflow"><img id="workflow-image" src="morphic-demo/workflow.png"/></lively-window>
<h1>Lively 4 -- Morphic Demo Page</h1>
<p>http://localhost:8002/lively4-core/draft/morphic-demo/ball-scripts.js</p>
<lively-halos style="display: none; top: 0px; left: 0px; width: 300px; height: 200px;"></lively-halos>


<div id="playground">
  <h2>v = ??</h2>
  <div class="large-rect"></div>
  <div class="ball"></div>
  <button onclick="this.doit()" class="">Start<script data-name="doit" type="lively4script">function doit() {
  this.parentElement.querySelector(".ball").startFalling();
}</script></button>
  <button onclick="this.doit()" class="">Stop<script data-name="doit" type="lively4script">function doit() {
  this.parentElement.querySelector(".ball").stopFalling();
}</script></button>
  <button onclick="this.doit()" class="">Reset<script data-name="doit" type="lively4script">function doit() {
  $(this.parentElement.querySelector(".ball")).css('top', 0);
}</script></button>
</div>

<script>
  var lively4yourself = /\/draft\/.*\.html/ // ADAPT THIS
  // some little reflection... help to find your inner self!
  var lively4url = window.location.origin + window.location.pathname.replace(lively4yourself,"");

  System.import(lively4url + "/src/client/load.js").then(function(){
    System.import("commandline.js")
    System.import(lively4url + "/src/client/debug-serviceworker.js")
  }).catch(function(err) { alert("load Lively4 failed")});

  System.import(lively4url + "/src/client/shortcuts.js").then(m => {
    m.registerShortcuts();
  });

  var creator;
  System.import(lively4url + "/src/client/morphic/component-creator.js").then(m => {
    creator = m;
  }).catch(function(err) {
    alert("load component-creator failed");
  });

  var loader;
  System.import(lively4url + "/src/client/morphic/component-loader.js").then(m => {
    loader = m;
  }).catch(function(err) {
    alert("load component-loader failed");
  });

  lively4url = null;
</script>


<lively-preferences data-persistence-target="http://localhost:8002/lively4-core/draft/morphic-demo-auto.html" data-persistence-interval="5000" data-persistence-enabled="false"></lively-preferences></body></html>
