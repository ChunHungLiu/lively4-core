<template id="lively-container">
    <content></content>
    <script type="lively4script" data-name="initialize">
    () => {
    
    }
    </script>
    <script type="lively4script" data-name="clear">
    () => {
        this.innerHTML = ''
    }
    </script>

    <script type="lively4script" data-name="setPath">
    (path) => {
      this.setAttribute("data-path", path)
      $.get("https://lively4/" + path, (content) => {
        var format = path.replace(/.*\./,"")
        if (format == "html")  {
          this.appendHTML(content) 
        } else if (format == "md") { 
          this.appendHTML("<h1>MARKDOWN</h1><pre>" + content +"</pre>")
        } else {
          this.appendHTML("<pre>" + content +"</pre>")
        }

      }).fail(function(err){
          console.log("Could not load: " + path)
      })
    }
    </script>
     <script type="lively4script" data-name="appendHTML">
    (content) => {
        $.parseHTML(content).forEach((ea) => this.appendChild(ea))
    }
    </script>


</template>
<script class="registrationScript">
// This ugly piece of code will be auto generated, when exporting a template. Puh.
(function() {
  var template = document.currentScript.ownerDocument.querySelector('#lively-container');
  var clone = document.importNode(template.content, true);

  System.import('../src/client/morphic/component-loader.js').then(loader => { loader.register('lively-container', clone); });
})();
</script>