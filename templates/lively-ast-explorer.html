<template id="lively-ast-explorer" data-class="LivelyAstExplorer">
  <style>
  :host {
    width: 50px;
    height: 25px;
  }
  table {
    width: 100%;
    height: 100%;
  }
  
  td {
    width: 50%;
    height: 50%;
  }
  
  juicy-ace-editor {
    height: calc(100% - 30px);
  }
  
  </style>
  <table>
    <tr><td>
Source <button id="acceptSource">accept</button>
  <juicy-ace-editor id="source">var a = 3;
console.log(a + 4)</juicy-ace-editor>      
    </td><td>
    AST nice pretty print... #ToBeImplemented
    </td></tr>
    <tr><td>
  Plugin
  <juicy-ace-editor  id="plugin">(function (babel) {
  const { types: t } = babel;
  
  return {
    name: "ast-transform", // not required
    visitor: { 
      Program(path) {
        var statements = []
        path.traverse({
        	Statement(path) {
            	statements.push(path)
            }
        })
        _.last(statements).insertAfter(t.expressionStatement(t.stringLiteral('x')))
      } 
    }
  };
})
</juicy-ace-editor>
      
    </td><td>
  Output <button id="astInspect">inspect AST</button>
  <juicy-ace-editor  id="output"></juicy-ace-editor>
      
    </td></tr>
  </table>
  
  
  
  
  
</template>
<script class="registrationScript">lively.registerTemplate()</script>
